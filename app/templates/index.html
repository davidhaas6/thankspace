{% extends "base.html" %}

{% block page_content %}
<div class="index">
    <div class="half-twt half-twt1">
        <div class="grateful-form">
            <div class="light-text display-3 w-25 text-left">
                <h1>I'm grateful for:</h1>
            </div>
            <form method="post" role="form" enctype="multipart/form-data">
                {{ grateful_form.csrf_token }}

                {% for field, errors in grateful_form.errors.items() %}
                <div class="alert alert-error">
                    {{ grateful_form[field].label }}: {{ ', '.join(errors) }}
                </div>
                {% endfor %}

                <div class="grateful-item">
                    {{ grateful_form.item1(class="ts-form post-form grateful-item-form", placeholder=placeholders[0]) }}
                </div>
                <div class="grateful-item">
                    {{ grateful_form.item2(class="ts-form post-form grateful-item-form", placeholder=placeholders[1]) }}
                </div>
                <div class="grateful-item">
                    {{ grateful_form.item3(class="ts-form post-form grateful-item-form", placeholder=placeholders[2]) }}
                </div>
                <div class="grateful-submit">
                    {{ grateful_form.submit(class="btn") }}
                </div>
            </form>
        </div>
    </div>

    <div class="half-twt half-twt2">
        <div class="twt-feed">
            {% if feed %}
            <h1>Feed</h1>
            {% for post in feed %}
            <div class="post">
                <h5><strong>{{post.author}}</strong> is grateful for:</h5>
                <p>{{post.item1}}</p>
                <p>{{post.item2}}</p>
                <p>{{post.item3}}</p>
                <h6><em>{{post.timestamp}}</em></h6>
            </div>

            {% endfor %}
        </div>
        {% endif %}
    </div>
</div>

{% endblock %}